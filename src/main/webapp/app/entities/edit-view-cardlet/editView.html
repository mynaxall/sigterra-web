<div ng-show="showSpinner" class="spinner-shadow"><div style="position:absolute;top:40%; left: 50%"><img src="/content/images/spinner.svg" style="margin-left: -88px;"></div></div>
<div ng-show="vm.isShowDialog" class="image-popup">
    <div class="row image-dialog">
        <button type="button" class="close login-close-gray" ng-click="vm.hideImageDialog(true)">×</button>
        <div class="image-dialog-crop-panel">

            <div>
                <div class="fileUpload btn btn-primary choose-photo-btn">
                    <span>Choose photo</span>
                    <div>
                        <input type="file" img-cropper-fileread image="myImage" accept="image/png, image/jpeg, image/jpg" id="fileInput" class="upload" />
                    </div>

                </div>
            </div>
            <div class="cropArea">
                <div ng-show="myCroppedImage">
                    <canvas width="350" height="350" id="canvas" image-cropper image="myImage" cropped-image="myCroppedImage" crop-width="cropWidth().width" crop-height="imageSize.height"  crop-area-bounds="bounds" cors="yes"></canvas>
                </div>
                <img ng-hide="myCroppedImage" src="/content/images/image_placeholder.png">
            </div>
            <div class="crop-btn-div">
                <button ng-disabled="!myCroppedImage" class="saveButton" ng-click="vm.saveImage()">save</button>
            </div>
        </div>
    </div>
</div>
<div ng-show="vm.isShowDialog1" class="image-popup">

    <div class="row icon-dialog" >
        <button type="button" class="close login-close-gray" ng-click="vm.hideIconPopUpDialog(true)">×</button>

        <label class="login-lable label-editor label-editor-links icon-popup-text">Select Icon</label>


        <div class="row" >
            <div class="col-md-4 icon-modal-pop" ng-repeat-start="listIcon in listIcons.listFilesPaths">
                <img class="editor-header-bg-img" ng-style="{'background-color': '#'+header.ctaColor}" ng-src="{{listIcon.url}}" >
                <input id="radiobuttonsform"
                       type="radio"
                       ng-model="listIcon.checked"
                       name="icon"
                       value="{{listIcon.url}}"
                       ng-click="toggleSelection($index, listIcon.url);"></div>
            <div class="clearfix" ng-if="($index+1)%3==0"></div>
            <div ng-repeat-end=""></div>
            <div class="crop-btn-div" style="text-align:center"><button class="saveButton icon-btn" ng-click="vm.hideIconPopUpDialog(true)">OK</button></div>
        </div>
    </div>
</div>
<ng-include src="'app/entities/edit-view-cardlet/deleteWidgetDialog.html'"></ng-include>
<style>
    body{
        min-width: 850px;
    }

    .tabs a{
        color: #7F8C8C;
    }


    .remove{
        padding: 0px!important;
        position: absolute;
        background: #fff;
        color: #000!important;
        border-radius: 20px;
        width: 15px;
        height: 15px;
        top: -7px;
        right: -7px;
        text-transform: none;
        z-index: 10
    }

    ul.tab2 {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        width: 550px;
        padding-top: 10px;
    }
    .right.carousel-control,  .left.carousel-control {
        display: none;
    }

    @media (max-width: 1500px){
    .ng-carousel slide {
        height: 205px !important;
        width: 350px !important;
    }
    .slide-content {
        width: 350px;
    }
    .ng-carousel {
        width: 350px;
        height: 205px !important;
    }
    .editor-header-avatar-div {
        position: relative;
        width: 79px;
        height: 67px;
        border: 1px solid #d1d1d1;
    }
    .editor-header-avatar-img {
        max-width: 98px;
        max-height: 65px;
    }
    .editor-header-bg-div {
        width: 80px !important;
        height: 80px !important;
    }
    .slide-bg {
        height: 167px;
    }
    .demo-nav {
        margin-top: 84px;
        border: none;
        background: transparent;
        padding: 0px;
    }

    .editor-header-bg-img {
        width: 80px !important;
        height: 80px !important;

    }
    }
    .icon1val{
        background: #f0eded;
    }
    .icon-popup-text{
        font-size: 20px;
        text-align: center;
        width: 100%;
        margin-bottom: 20px;
        font-family: Roboto-Light !important;
    }
    .icon-modal-pop{
        padding: 10px;
        text-align: center;
    }
    .icon-btn{
        width: 100px;
        font-size: 16px;
        color: #FFFFFF;
        text-transform: uppercase;
        background-color: #5cbcff;
        border: none;
        border-radius: 5px;
        font-family: Roboto-Light !important;
    }
    .icon-btn:hover {
        background-color: #45aef7 !important;
        color: #ffffff;
    }
     input[type="radio"] {
        display: block;
        margin-left: 40%;
    }
    .label-editor-logo {
        width: 105px;
    }
    .label-editor {
        font-size: 12px;
    }
    .display-prof{
        margin-left: 10%;
    }
    .header-prof{
        margin-bottom: 10px;
    }
    .icon-dialog {
        position: relative;
        background: #fff;
        width: 400px;
        margin-left: 22.4%;
        margin-top: 29%;
        padding: 10px;
    }
</style>


<script>
    $(document).ready(function(){
        $("#default-navbar").removeClass("navbar-fixed-top");
        $("#main-footer").removeClass("ng-hide");
    });
</script>

<div class="alert alert-success" check-position-scroll ng-show="vm.success">
    <strong>Saved!</strong>
</div>
<div class="editor-subheader">
    <div class="editor-subheader-container">
        <a class="editor-subheader-btn"  target="_blank" href="{{gerPreviewLink(cardletId)}}"><img class="header-icons" src="/content/images/editor/Eye.png"> View Page</a>
        <a class="editor-subheader-btn" ng-click="save(false)"><img class="header-icons" src="/content/images/editor/Edit-2.png"> Edit Card</a>
    </div>
</div>
<div class="entiti-content" ng-init="getCardlet()">
    <div class="alert alert-danger cardlet-alert" ng-show="showError">
        <strong>Access denied</strong>
    </div>
    <div class="view-editor-flex">
        <div class="view-editor-col">
            <div class="left-column-editor-content">
                <div class="editor-view-header">
                    <ul class="editor-tab" >
                        <li class="editor-tabs" ng-class="vm.activeTab == '1' ? 'active' : ''">
                            <a ng-click="setActive(1)">Header</a>
                        </li>
                        <li class="editor-tabs" ng-class="vm.activeTab == '2' ? 'active' : ''">
                            <a ng-click="setActive(2)">Banner</a>
                        </li>
                        <li class="editor-tabs" ng-class="vm.activeTab == '5' ? 'active' : ''">
                            <a ng-click="setActive(5)">Widgets</a>
                        </li>
                        <li class="editor-tabs" ng-class="vm.activeTab == '3' ? 'active' : ''">
                            <a ng-click="setActive(3)">Links</a>
                        </li>
                        <li class="editor-tabs" ng-class="vm.activeTab == '4' ? 'active' : ''">
                            <a ng-click="setActive(4)">Footer</a>
                        </li>
                    </ul>
                </div>
                <div class="save-preview-panel">
                    <div ng-if="vm.activeTab == '1'" class="editor-panel">
                        <div class="editor-div editor-div-flex header-prof">
                            <label class="login-lable label-editor label-editor-logo">Company Logo</label>
                            <div class="editor-header-logo-div-container">
                                <div class="editor-header-logo-div logo-flex">
                                    <button ng-click="vm.showImageDialog(true)" class="upload-img-btn">
                                        <img src="/content/images/editor/edit.png">
                                    </button>
                                    <img ng-if="header.logoUrl" class="editor-header-logo-img" ng-src="{{header.logoUrl}}?{{time}}">
                                </div>
                                <div class="editor-limits">
                                    (240 x 70 px)
                                </div>
                            </div>
                            &nbsp;&nbsp;&nbsp;
                            <div class="editor-div editor-div-flex editor-div-avatar">
                                <label class="login-lable label-editor label-editor-logo display-prof">Display Profile</label>
                                <div>
                                    <div class="editor-header-avatar-div logo-flex">
                                        <button ng-click="vm.showImageDialog(false)" class="upload-img-btn">
                                            <img src="/content/images/editor/edit.png">
                                        </button>
                                        <img ng-if="header.photoUrl" class="editor-header-avatar-img" ng-src="{{header.photoUrl}}?{{time}}">
                                    </div>
                                    <div class="editor-limits">
                                        (100 x 100 px)
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="editor-div editor-div-flex editor-div-data">
                            <div>
                                <label class="login-lable label-editor label-editor-profile">Details</label>
                            </div>
                            <div class="editor-input-group">
                                <div class="input-editor-flex no-margin">
                                    <div class="small-editor-label">
                                        Name:
                                    </div>
                                    <div>
                                        <input class="editor-input" type="text" ng-model="header.name" maxlength="20">
                                    </div>
                                    <div class="editor-limits">
                                        ({{header.name.length}}/20)
                                    </div>
                                </div>
                                <div class="input-editor-flex">
                                    <div class="small-editor-label">
                                        Title:
                                    </div>
                                    <div>
                                        <input class="editor-input" type="text" ng-model="header.title" maxlength="30">
                                    </div>
                                    <div class="editor-limits">
                                        ({{header.title.length}}/30)
                                    </div>
                                </div>
                                <div class="input-editor-flex">
                                    <div class="small-editor-label">
                                        Email:
                                    </div>
                                    <div>
                                        <input class="editor-input" type="text" ng-model="header.email">
                                    </div>
                                </div>
                                <div class="input-editor-flex">
                                    <div class="small-editor-label">
                                        Phone:
                                    </div>
                                    <div>
                                        <input class="editor-input" type="text" ng-model="header.phone">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="editor-div editor-div-flex editor-div-title">
                            <label class="login-lable label-editor label-editor-logo">Title (CTA)</label>
                            <div class="editor-header-logo-div-container">
                                <input class="editor-input" type="text" ng-model="header.text" maxlength="20">
                            </div>
                            <div class="editor-limits">
                                ({{header.text.length}}/20)
                            </div>
                        </div>
                        <script>
                            $(document).ready(function() {
                                jscolor.installByClassName("jscolor");
                            });
                        </script>
                        <div class="editor-div editor-div-flex">
                            <label class="login-lable label-editor label-editor-logo">Color (CTA)</label>
                            <div class="editor-header-logo-div-container">
                                <input ng-model="header.ctaColor" type="text" name='ctaColor' value='header.ctaColor' id="secondaryColor" class="jscolor editor-color-input">
                            </div>
                        </div>
                    </div>
                    <div ng-if="vm.activeTab == '2'" class="editor-panel">
                        <div class="editor-div editor-div-flex editor-div-headline">
                            <label class="login-lable label-editor label-editor-logo">Headline</label>
                            <div>
                                <textarea class="editor-textarea" ng-model="background.text" maxlength="140px"></textarea>
                                <div class="editor-limits align-right">
                                    (Max 140 Char)
                                </div>
                            </div>
                        </div>
                       <!-- <div class="editor-div editor-div-flex editor-div-font-color">
                            <label class="login-lable label-editor label-editor-logo">Font Color</label>
                            <div class="editor-div-flex font-color-pading">
                                <div class="editor-div-flex editor-radio-btn">
                                    <input type="radio" name="selector" class="editor-radio" ng-model="background.textColor" ng-value="true">
                                    <div class="radio-label">Black</div>
                                </div>
                                <div class="editor-div-flex margin-left-35 editor-radio-btn">
                                    <input type="radio" name="selector" class="editor-radio" ng-model="background.textColor" ng-value="false">
                                    <div class="radio-label">White</div>
                                </div>

                            </div>
                        </div>-->
                        <div class="editor-div editor-div-flex">
                            <label class="login-lable label-editor label-editor-slide">Color Theme</label>
                            <div>
                                <div ng-carousel ng-carousel-name="example-carousel1" ng-carousel-watch="slides">
                                    <slidecontainer>
                                        <slide ng-repeat="slide in bgArray.listFilesPaths">
                                            <div class="slide-content">
                                                <div class="slide-bg">
                                                    <img src="{{slide.url}}">
                                                </div>
                                                <div>
                                                    <button class="select-bg-btn" ng-click="select($index)">Select</button>
                                                </div>
                                            </div>
                                        </slide>
                                    </slidecontainer>
                                    <div class="carousel-arrow carousel-arrow-left">
                                        <button class="demo-nav" ng-click="Carousel.get('example-carousel1').previous()">
                                            <img src="/content/images/editor/left.png">
                                        </button>
                                    </div>
                                    <div class="carousel-arrow carousel-arrow-right">
                                        <button class="demo-nav" ng-click="Carousel.get('example-carousel1').next()">
                                            <img src="/content/images/editor/right.png">
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div class="theme-div ng-scope">
                                    <img ng-show="background.imageUrl" ng-src="{{background.imageUrl}}" class="theme-div-img">
                                </div>
                                <label class="login-lable label-editor label-editor-logo" style="text-align:center;">Current Theme</label>

                            </div>
                        </div>
                        <!--<div class="editor-div editor-div-flex">-->
                            <!--<label class="login-lable label-editor label-editor-logo">Current Theme</label>-->
                            <!--<div>-->
                                <!--<div class="theme-div">-->
                                    <!--<img ng-show="background.imageUrl" ng-src="{{background.imageUrl}}" class="theme-div-img">-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</div>-->
                    </div>
                    <div ng-if="vm.activeTab == '3'" class="editor-panel">
                        <div class="editor-div editor-div-flex">
                            <label class="login-lable label-editor label-editor-links">Add Title</label>
                            <div>
                                <input class="editor-input editor-input-title" type="text" ng-model="links.title" maxlength="30">
                            </div>
                            <div class="editor-limits">
                                (Max 30 Char)
                            </div>
                        </div>
                        <!--<div class="editor-div editor-div-flex">
                            <div class="login-lable label-editor label-editor-links">
                                <div>Add Icons</div>
                                <div class="editor-limits">( Pick any 3 )</div>
                            </div>
                            <div>
                                <div class="editor-flex-icons">
                                    <div ng-repeat="listIcon in listIcons.listFilesPaths">
                                        <img ng-src="{{listIcon.url}}">
                                        <input type="checkbox"
                                               value="{{listIcon.url}}"
                                               ng-checked="selection.indexOf(listIcon.url) > -1"
                                               ng-click="toggleSelection(listIcon.url)">
                                    </div>
                                </div>
                            </div>
                        </div>-->
                        <div class="editor-div editor-div-flex">
                            <label class="login-lable label-editor label-editor-links">Icon #1</label>
                            <div class="editor-div-flex">
                                <div ng-if="!selection[0]" class="editor-header-bg-div"><button ng-click="vm.showIconPopUpDialog(false)" class=" editor-header-bg-div icon1val" value="0"><u style="color: #5cbcfb;">Add Icon</u></button></div>
                                <div ng-if="selection[0]" class="editor-header-bg-img-div">
                                    <button class="delete-editor-links-icon" ng-click="deleteIcon(0)">
                                        <img  src="/content/images/editor/cncl.png">
                                    </button>
                                    <img ng-style="{'background-color': '#'+header.ctaColor}" class="editor-header-bg-img" ng-src="{{selection[0]}}">
                                </div>
                                <div class="editor-links-group">
                                    <div class="editor-div-flex">
                                        <div class="editor-links-group-title editor-links-group-title-margin">Title</div>
                                        <input ng-disabled="!selection[0]" class="editor-input editor-link-title" type="text" ng-model="links.name1" maxlength="20">
                                        <div class="editor-limits">
                                            ({{links.name1.length}}/20)
                                        </div>
                                    </div>
                                    <div class="editor-div-flex">
                                        <div class="editor-links-group-title">URL</div>
                                        <input ng-disabled="!selection[0]" class="editor-input editor-link-url" type="text" ng-model="links.url1">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="editor-div editor-div-flex">
                            <label class="login-lable label-editor label-editor-links">Icon #2</label>
                            <div class="editor-div-flex">
                                <div ng-if="!selection[1]" class="editor-header-bg-div"><button ng-click="vm.showIconPopUpDialog(false)" class=" editor-header-bg-div icon1val" value="1"><u style="color: #5cbcfb;">Add Icon</u></button></div>
                                <div ng-if="selection[1]" class="editor-header-bg-img-div">
                                    <button class="delete-editor-links-icon" ng-click="deleteIcon(1)">
                                        <img src="/content/images/editor/cncl.png">
                                    </button>
                                    <img ng-style="{'background-color': '#'+header.ctaColor}" class="editor-header-bg-img" ng-src="{{selection[1]}}">
                                </div>
                                <div class="editor-links-group">
                                    <div class="editor-div-flex">
                                        <div class="editor-links-group-title editor-links-group-title-margin">Title</div>
                                        <input ng-disabled="!selection[1]" class="editor-input editor-link-title" type="text" ng-model="links.name2" maxlength="20">
                                        <div class="editor-limits">
                                            ({{links.name2.length}}/20)
                                        </div>
                                    </div>
                                    <div class="editor-div-flex">
                                        <div class="editor-links-group-title">URL</div>
                                        <input ng-disabled="!selection[1]" class="editor-input editor-link-url" type="text" ng-model="links.url2">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="editor-div editor-div-flex">
                            <label class="login-lable label-editor label-editor-links">Icon #3</label>
                            <div class="editor-div-flex">
                                <div ng-if="!selection[2]" class="editor-header-bg-div" ><button ng-click="vm.showIconPopUpDialog(false)" class=" editor-header-bg-div icon1val" value="2"><u style="color: #5cbcfb;">Add Icon</u></button></div>
                                <div ng-if="selection[2]" class="editor-header-bg-img-div">
                                    <button class="delete-editor-links-icon" ng-click="deleteIcon(2)">
                                        <img src="/content/images/editor/cncl.png">
                                    </button>
                                    <img ng-style="{'background-color': '#'+header.ctaColor}" class="editor-header-bg-img" ng-src="{{selection[2]}}">
                                </div>
                                <div class="editor-links-group">
                                    <div class="editor-div-flex">
                                        <div class="editor-links-group-title editor-links-group-title-margin">Title</div>
                                        <input ng-disabled="!selection[2]" class="editor-input editor-link-title" type="text" ng-model="links.name3" maxlength="20">
                                        <div class="editor-limits">
                                            ({{links.name3.length}}/20)
                                        </div>
                                    </div>
                                    <div class="editor-div-flex">
                                        <div class="editor-links-group-title">URL</div>
                                        <input ng-disabled="!selection[2]" class="editor-input editor-link-url" type="text" ng-model="links.url3">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="vm.activeTab == '4'" class="editor-panel">
                        <div class="editor-div-flex editor-url">
                            <div class="login-lable label-editor label-editor-logo editor-div-flex">
                                <div class="editor-url-icon">
                                    <img src="/content/images/editor/artboard.png">
                                </div>
                                <div>(URL)</div>
                            </div>
                            <div>
                                <input class="editor-input" type="text" ng-model="footer.facebookLink">
                            </div>
                        </div>
                        <div class="editor-div-flex editor-url">
                            <div class="login-lable label-editor label-editor-logo editor-div-flex">
                                <div class="editor-url-icon">
                                    <img src="/content/images/editor/twitter-icon.png">
                                </div>
                                <div>(URL)</div>
                            </div>
                            <div>
                                <input class="editor-input" type="text" ng-model="footer.twitterLink">
                            </div>
                        </div>
                        <div class="editor-div-flex editor-url">
                            <div class="login-lable label-editor label-editor-logo editor-div-flex">
                                <div class="editor-url-icon">
                                    <img src="/content/images/editor/in-icon.png">
                                </div>
                                <div>(URL)</div>

                            </div>
                            <div>
                                <input class="editor-input" type="text" ng-model="footer.linkedinLink">
                            </div>
                        </div>
                    </div>

                    <div ng-if="vm.activeTab == '5'" class="editor-panel editor-widgets-panel">

                        <div class="editor-widgets-header">
                            <ul class="editor-tab" >
                                <li class="editor-tabs widgets-tabs" ng-class="vm.activeWidget == '1' ? 'active' : ''">
                                    <a ng-click="setActiveWidget(1)">Quick Bites</a>
                                </li>
                                <li class="editor-tabs widgets-tabs" ng-class="vm.activeWidget == '2' ? 'active' : ''">
                                    <a ng-click="setActiveWidget(2)">Testimonials</a>
                                </li>
                                <li class="editor-tabs widgets-tabs" ng-class="vm.activeWidget == '3' ? 'active' : ''">
                                    <a ng-click="setActiveWidget(3)">Content Library</a>
                                </li>
                            </ul>
                        </div>
                        <div class="save-preview-panel">
                            <div ng-if="vm.activeWidget == '1'" class="widgets-panel">
                                Quick Bites Content
                            </div>
                            <div ng-if="vm.activeWidget == '2'" class="widgets-panel">
                                <button ng-if="testimonials.length < 9" ng-click="addTestimonial()">Add</button>
                                <div uib-carousel active="activetTestimonial" interval="myInterval" no-wrap="noWrapSlides">
                                    <div uib-slide ng-repeat="testimonial in testimonials track by $index" index="$index" class="widget-slide">
                                        <button ng-click="showDeleteDialog($index, true)">delete</button>

                                        <form name="formTestimonial[$index]" role="form" novalidate show-validation>
                                            <div class="editor-div-flex editor-url">
                                                <div class="login-lable label-editor label-editor-logo editor-div-flex">
                                                    Name:
                                                </div>
                                                <div>
                                                    <input class="editor-input widget-input" type="text" ng-model="testimonial.name" name="name" required>
                                                    <div ng-show="formTestimonial[$index].$dirty && formTestimonial[$index].name.$invalid">
                                                        <p class="help-block"
                                                           ng-show="formTestimonial[$index].name.$error.required">
                                                            Name is required.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="editor-div-flex editor-url">
                                                <div class="login-lable label-editor label-editor-logo editor-div-flex">
                                                    Co.Name:
                                                </div>
                                                <div>
                                                    <input class="editor-input widget-input" type="text" ng-model="testimonial.coName" name="coName">
                                                </div>
                                            </div>
                                            <div class="editor-div-flex editor-url">
                                                <div class="login-lable label-editor label-editor-logo editor-div-flex">
                                                    Designation:
                                                </div>
                                                <div>
                                                    <input class="editor-input widget-input" type="text" ng-model="testimonial.designation">

                                                </div>
                                            </div>
                                            <div class="editor-div-flex editor-url">
                                                <div class="login-lable label-editor label-editor-logo text-left">
                                                    <div>Description:</div>
                                                    <div class="editor-limits">
                                                        ( 300 char )
                                                    </div>
                                                </div>
                                                <div>
                                                    <textarea class="editor-textarea widget-input" ng-model="testimonial.description" maxlength="300" name="description" required></textarea>
                                                    <div ng-show="formTestimonial[$index].$dirty && formTestimonial[$index].description.$invalid">
                                                        <p class="help-block"
                                                           ng-show="formTestimonial[$index].description.$error.required">
                                                            Description is required.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                <div ng-if="testimonials.length > 1">
                                    <div class="carousel-arrow widget-carousel-arrow-left">
                                        <button class="demo-nav testimonial-arrow" ng-click="prevTimonialSlide()">
                                            <img src="/content/images/editor/left.png">
                                        </button>
                                    </div>
                                    <div class="carousel-arrow  widget-carousel-arrow-right">
                                        <button class="demo-nav testimonial-arrow" ng-click="nextTimonialSlide()">
                                            <img src="/content/images/editor/right.png">
                                        </button>
                                    </div>
                                </div>
                                <div ng-if="testimonials.length > 1" class="testimonial-paging">
                                    <div class="testimonial-page-number" ng-class="{active: activetTestimonial === $index}" ng-repeat="testimonial in testimonials track by $index" ng-click="setActiveTestimonial($index)">{{$index + 1}}</div>
                                </div>
                            </div>
                            <div ng-if="vm.activeWidget == '3'" class="widgets-panel">
                                <button ng-if="contentLibrary.length < 9" ng-click="addContentLibrary()">Add</button>
                                <div uib-carousel active="activeContentLibrary" interval="myInterval" no-wrap="noWrapSlides">
                                    <div uib-slide ng-repeat="item in contentLibrary track by $index" index="$index" class="widget-slide">
                                        <button ng-click="showDeleteDialog($index, false)">delete</button>

                                        <form name="formContentLibrary[$index]" role="form" novalidate show-validation>
                                            <div class="editor-div-flex editor-url">
                                                <div class="login-lable label-editor label-editor-logo text-left">
                                                    Title:
                                                    <div class="editor-limits">
                                                        ( 100 char )
                                                    </div>
                                                </div>
                                                <div>
                                                    <textarea class="editor-textarea widget-input" ng-model="item.title" name="title" maxlength="100" required></textarea>
                                                    <div ng-show="formContentLibrary[$index].$dirty && formContentLibrary[$index].title.$invalid">
                                                        <p class="help-block"
                                                           ng-show="formContentLibrary[$index].title.$error.required">
                                                            Title is required.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="editor-div editor-div-flex header-prof">
                                                <label class="login-lable label-editor label-editor-logo">Cover image</label>
                                                <div class="editor-header-logo-div-container">
                                                    <div class="editor-header-logo-div logo-flex">
                                                        <button ng-click="vm.showWidgetImageDialog(true, $index)" class="upload-img-btn">
                                                            <img src="/content/images/editor/edit.png">
                                                        </button>
                                                        <img ng-if="item.coverImageUrl" class="editor-header-logo-img" ng-src="{{item.coverImageUrl}}?{{time}}">
                                                    </div>
                                                    <div ng-show="formContentLibrary[$index].$dirty && !item.coverImageUrl">
                                                        <p class="help-block">
                                                            Cover image is required.
                                                        </p>
                                                    </div>
                                                    <div class="editor-limits">
                                                        (260 x 145 px)
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="editor-div-flex editor-url">
                                                <div class="login-lable label-editor label-editor-logo text-left">
                                                    Upload File / URL:
                                                    <div class="editor-limits">
                                                        (PDF /JPG/ PNG)
                                                    </div>
                                                </div>
                                                <div>
                                                    <input class="editor-input widget-input" type="text"  name="uploadFileUrl" ng-model="item.uploadFileUrl" ng-pattern="vm.LINK_PATTERN" required>

                                                    <div class="fileUpload btn btn-primary choose-photo-btn">
                                                        <span>Upload</span>
                                                        <div>
                                                            <input type="file" accept="image/png, image/jpeg, image/jpg , application/pdf"  class="upload" ngf-select="fileNameChanged($files, $index)"/>
                                                        </div>
                                                    </div>
                                                    <div ng-if="$index === imageIndex && imageError">
                                                        <p class="help-block">
                                                            The file size can not exceed 50 MB.
                                                        </p>
                                                    </div>
                                                    <div ng-show="formContentLibrary[$index].$dirty && formContentLibrary[$index].uploadFileUrl.$invalid">
                                                        <p class="help-block"
                                                           ng-show="formContentLibrary[$index].uploadFileUrl.$error.required">
                                                            Upload File / URL is required.
                                                        </p>
                                                        <p class="help-block"
                                                           ng-show="formContentLibrary[$index].uploadFileUrl.$error.pattern">
                                                            Incorrect URL. URL should start from "http://" or "https://
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                <div ng-if="contentLibrary.length > 1">
                                    <div class="carousel-arrow widget-carousel-arrow-left">
                                        <button class="demo-nav testimonial-arrow" ng-click="prevContentLibrarySlide()">
                                            <img src="/content/images/editor/left.png">
                                        </button>
                                    </div>
                                    <div class="carousel-arrow  widget-carousel-arrow-right">
                                        <button class="demo-nav testimonial-arrow" ng-click="nextContentLibrarySlide()">
                                            <img src="/content/images/editor/right.png">
                                        </button>
                                    </div>
                                </div>
                                <div ng-if="contentLibrary.length > 1" class="testimonial-paging">
                                    <div class="testimonial-page-number" ng-class="{active: activeContentLibrary === $index}" ng-repeat="item in contentLibrary track by $index" ng-click="setActiveContentLibrary($index)">{{$index + 1}}</div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <button ng-disabled="isInvalid()" class="save-preview-btn" ng-click="save(true)">save</button>
                </div>
            </div>
        </div>
        <div class="view-editor-col">
            <div class="second-column-editor">
                <div class="editor-preview-panel">
                    <div class="editor-preview-header" id="editor-preview-header">
                        <div class="header-focus" ng-if="vm.activeTab == '1'">
                            <img class="focus-editing-marker" src="/content/images/editor/edit-marker.png">
                            <div class="focus-editing-title">Header</div>
                        </div>
                        <div class="editor-preview-header-flex">
                            <div>
                                <a href="#">
                                    <img class="header-preview-editor-logo" ng-show="header.logoUrl" alt="Brand" ng-src="{{header.logoUrl}}?{{time}}">
                                </a>
                            </div>
                            <div>
                                <div class="preview-image-group">
                                    <div >
                                        <img  class="header-preview-editor-avatar header-icons"  class="image " ng-show="header.photoUrl" ng-src="{{header.photoUrl}}?{{time}}">
                                    </div>
                                    <div class=" alignme ">
                                        <span class="bold">{{header.name}}</span>
                                        <br>
                                        <span class="small text-light">{{header.title}}</span>
                                        <br>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div>
                                    <span class="text-light">{{header.email}}</span>
                                    <br>
                                    <span class="text-light">{{header.phone}}</span>
                                </div>
                            </div>
                            <div>
                                <button ng-show="header.text" class="btn-warning bnt-edit-preview" ng-style="{'background-color': '#'+header.ctaColor}">{{header.text}}</button>
                            </div>
                        </div>
                    </div>
                    <div class="editor-preview" ng-style="{'background': 'url(' + background.imageUrl + ') no-repeat center center fixed', 'background-size': 'cover'}">
                        <div class="header-focus" ng-if="vm.activeTab == '2'">
                            <img class="focus-editing-marker" src="/content/images/editor/edit-marker.png">
                            <div class="focus-editing-title focus-editing-title-bg">Background</div>
                        </div>
                        <div class="editor-preview-body">
                            <div class="editor-preview-title" style="color: #ffffff ">
                                {{background.text}}
                            </div>
                            <div>
                                <ul class="tab2">
                                    <li class="tabs2" ng-style="addColors('card'+tabName.position+tabName.name, tabName.layout.mainColor, tabName.layout.secondaryColor, 'tabLink2'+tabName.position)" ng-repeat="tabName in tabNames.tabs" id="card{{tabName.position}}{{tabName.name}}">
                                        <div style="position: relative;display: table; width: 100%;">
                                            <a style="overflow: hidden; text-overflow: ellipsis;" href="javascript:void(0)"  ng-class="{disabledLink: !isEmptyName()}" id="tabLink2{{tabName.position}}" class="tablinks2" ng-click="openCity('settings'+tabName.name+tabName.position, tabName.position, tabName.name+tabName.position, 'card'+tabName.position+tabName.name)">{{tabName.name}}</a>
                                        </div>
                                    </li>
                                </ul>
                            </div>

                            <div ng-repeat="tabName in tabNames.tabs " id="{{tabName.name}}{{tabName.position}}" class="tabcontent2 tabcontent-editor" ng-class="tabName.position == 0 ? 'display' : 'none-display'">
                                <div class="custom-slide-prev slide-prev-editor slide-editor" ng-show="vm.tabType != 1 && tabName.items.length > 1">
                                    <span ng-click="prevSlide($index)"><img src="/content/images/editor/arrow_left.png"></span>
                                </div>
                                <ng-include style="display: block!important" src="tabName.layout.url" ></ng-include>
                                <div class="custom-slide-next slide-next-editor slide-editor" ng-show="vm.tabType != 1 && tabName.items.length > 1">
                                    <span ng-click="nextSlide($index)"><img src="/content/images/editor/arrow_right.png"></span>
                                </div>
                                <div class="arrow-link">
                                    <a class="fa fa-arrow-down hidden-sm hidden-md" href="" ng-click="scrollToFooter('capture')" target="_self"></a>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="editor-preview">
                        <div class="header-focus" ng-if="vm.activeWidget == '2' && vm.activeTab == '5'">
                            <img class="focus-editing-marker" src="/content/images/editor/edit-marker.png">
                            <div class="focus-editing-title focus-editing-title-bg">Testimonials</div>
                        </div>
                        <div class="editor-preview-testimonials">
                            <div ng-if="testimonials.length" class="testimonials-title">Testimonials</div>
                            <div uib-carousel active="activetTestimonial" interval="myInterval" no-wrap="noWrapSlides">
                                <div uib-slide ng-repeat="testimonial in testimonials track by $index" index="$index" class="widget-slide-testimonials">
                                    <div>{{testimonial.name}}</div>
                                    <div>{{testimonial.coName}}</div>
                                    <div>{{testimonial.designation}}</div>
                                    <div>{{testimonial.description}}</div>
                                </div>
                            </div>
                            <div ng-if="testimonials.length > 1">
                                <div class="carousel-arrow testimonial-carousel-arrow-left">
                                    <button class="demo-nav testimonial-arrow" ng-click="prevTimonialSlide()">
                                        <img src="/content/images/editor/left.png">
                                    </button>
                                </div>
                                <div class="carousel-arrow  testimonial-carousel-arrow-right">
                                    <button class="demo-nav testimonial-arrow" ng-click="nextTimonialSlide()">
                                        <img src="/content/images/editor/right.png">
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="editor-preview">
                        <div class="header-focus" ng-if="vm.activeWidget == '3' && vm.activeTab == '5'">
                            <img class="focus-editing-marker" src="/content/images/editor/edit-marker.png">
                            <div class="focus-editing-title focus-editing-title-bg">Content Library</div>
                        </div>
                        <div class="editor-preview-contentLibrary">
                            <div ng-if="contentLibrary.length" class="testimonials-title">Content Library</div>
                            <div class="content-lib-editor">
                                <div class="content-lib-editor-item" ng-repeat="item in contentLibrary track by $index" ng-class="{'active-content-library': activeContentLibrary === $index}">
                                    <div class="content-lib-editor-image-div">
                                        <img ng-if="item.coverImageUrl" ng-src="{{item.coverImageUrl}}" class="content-lib-editor-image">
                                    </div>
                                    <div>{{item.title}}</div>
                                    <div class="content-library-statistic"> <img class="content-library-image" src="/content/images/editor/views.png"> {{item.statistic.views}} <img class="" src="/content/images/editor/likes.png"> {{item.statistic.likes}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="editor-preview-footer">
                        <section class="service-info-sec">
                            <div class="header-focus" ng-if="vm.activeTab == '3'">
                                <img class="focus-editing-marker" src="/content/images/editor/edit-marker.png">
                                <div class="focus-editing-title">Links</div>
                            </div>
                            <h4 class="text-center" id="capture">{{links.title}}</h4>
                            <br>
                            <div class="service-info-editor service-info-min-height" ng-show="links.logoUrl1">
                                <div class="img-with-text-editor">
                                    <img class="click-sec-editor" ng-src="{{links.logoUrl1}}" border="0" ng-style="{'background-color': '#'+header.ctaColor}"/>
                                    <p class="click-sec-text-editor">
                                        <a class="preview-footer-link" ng-href="links.url1" data-toggle="modal" target="_blank">{{links.name1}}</a>
                                    </p>
                                    <br />
                                </div>
                                <div class="img-with-text-editor" ng-show="links.logoUrl2">
                                    <img class="click-sec-editor" ng-src="{{links.logoUrl2}}" border="0" ng-style="{'background-color': '#'+header.ctaColor}"/>
                                    <p class="click-sec-text-editor">
                                        <a class="preview-footer-link" ng-href="links.url2" data-toggle="modal" target="_blank">{{links.name2}}</a>
                                    </p>
                                    <br />
                                </div>
                                <div class="img-with-text-editor" ng-show="links.logoUrl3">
                                    <img class="click-sec-editor" ng-src="{{links.logoUrl3}}" border="0"  ng-style="{'background-color': '#'+header.ctaColor}"/>
                                    <p class="click-sec-text-editor">
                                        <a class="preview-footer-link" ng-href="links.url3" data-toggle="modal" target="_blank">{{links.name3}}</a>
                                    </p>
                                    <br />
                                </div>

                            </div>
                        </section>
                        <div class="footer-bottom-editor">
                            <div class="header-focus" ng-if="vm.activeTab == '4'">
                                <img class="focus-editing-marker" src="/content/images/editor/edit-marker.png">
                                <div class="focus-editing-title">Footer</div>
                            </div>
                            <div>
                                <div>
                                    <div class="text-center-footer-editor">
                                        <div class="footer-using-editor">Built using - <a class="footer-using-link">Sigterra.com</a> </div>
                                        <div class="copyright-text-editor">
                                            CopyRight © 2018 Digital All Rights Reserved
                                        </div>
                                        <div class="nav-view footer-editor-icon">
                                            <div ng-show="footer.facebookLink">
                                                <a ng-href="footer.facebookLink" target="_blank">
                                                    <img src="/content/images/editor/FB.png">
                                                </a>
                                            </div>
                                            <div ng-show="footer.twitterLink">
                                                <a ng-href="footer.twitterLink" target="_blank">
                                                    <img src="/content/images/editor/tweeter.png">
                                                </a>
                                            </div>
                                            <div ng-show="footer.linkedinLink">
                                                <a ng-href="footer.linkedinLink" target="_blank">
                                                    <img src="/content/images/editor/Linkdn.png">
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function() {
            jscolor.installByClassName("jscolor");
        });
    </script>
</div>
